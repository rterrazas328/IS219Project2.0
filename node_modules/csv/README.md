<<<<<<< HEAD
=======
[![Build Status](https://secure.travis-ci.org/wdavidw/node-csv-parser.png)](http://travis-ci.org/wdavidw/node-csv-parser)
>>>>>>> 923637243c51b35e8862bfced9d2f31719759a83

<pre>
     _   _           _        _____  _______      __
    | \ | |         | |      / ____|/ ____\ \    / /
<<<<<<< HEAD
    |  \| | ___   __| | ___ | |    | (___  \ \  / /
    | . ` |/ _ \ / _` |/ _ \| |     \___ \  \ \/ /
    | |\  | (_) | (_| |  __/| |____ ____) |  \  /
=======
    |  \| | ___   __| | ___ | |    | (___  \ \  / / 
    | . ` |/ _ \ / _` |/ _ \| |     \___ \  \ \/ /  
    | |\  | (_) | (_| |  __/| |____ ____) |  \  /   
>>>>>>> 923637243c51b35e8862bfced9d2f31719759a83
    |_| \_|\___/ \__,_|\___| \_____|_____/    \/     New BSD License

</pre>

<<<<<<< HEAD
This project provides CSV generation, parsing, transformation and serialization
for Node.js.

It has been tested and used by a large community over the years and should be
considered reliable. It provides every option you would expect from an advanced
CSV parser and stringifier.

[![NPM](https://nodei.co/npm/csv.png?stars&downloads)](https://nodei.co/npm/csv/) [![NPM](https://nodei.co/npm-dl/csv.png)](https://nodei.co/npm/csv/)

The `csv` package is itself split into 4 packages:

*   [`csv-generate`](https://github.com/wdavidw/node-csv-generate),
    a flexible generator of CSV string and Javascript objects. 
    [![Build Status](https://secure.travis-ci.org/wdavidw/node-csv-generate.png)][travis-csv-generate]
*   [`csv-parse`](https://github.com/wdavidw/node-csv-parse),
    a parser converting CSV text into arrays or objects. 
    [![Build Status](https://secure.travis-ci.org/wdavidw/node-csv-parse.png)][travis-csv-parse]
*   [`stream-transform`](https://github.com/wdavidw/node-stream-transform),
    a transformation framework.
    [![Build Status](https://secure.travis-ci.org/wdavidw/node-stream-transform.png)][travis-stream-transform]
*   [`csv-stringify`](https://github.com/wdavidw/node-csv-stringify), 
    a stringifier converting records into a CSV text. 
    [![Build Status](https://secure.travis-ci.org/wdavidw/node-csv-stringify.png)][travis-csv-stringify]

## Documentation

The full documentation for the current version 0.4 is available [here][new_doc] while the
previous documentation is still available [here][old_doc].

## Usage

Installation command is `npm install csv`.

Each package is fully compatible with the stream 2 and 3 specifications.
Also, a simple callback-based API is always provided for convenience.

### Callback example

Execute this script with the command `node samples/callback.js`.

```javascript
var csv = require('csv');

csv.generate({seed: 1, columns: 2, length: 20}, function(err, data){
  csv.parse(data, function(err, data){
    csv.transform(data, function(data){
      return data.map(function(value){return value.toUpperCase()});
    }, function(err, data){
      csv.stringify(data, function(err, data){
        process.stdout.write(data);
      });
    });
  });
});
```

### Stream example

Execute this script with the command `node samples/stream.js`.

```javascript
var csv = require('csv');

var generator = csv.generate({seed: 1, columns: 2, length: 20});
var parser = csv.parse();
var transformer = csv.transform(function(data){
  return data.map(function(value){return value.toUpperCase()});
});
var stringifier = csv.stringify();

generator.on('readable', function(){
  while(data = generator.read()){
    parser.write(data);
  }
});

parser.on('readable', function(){
  while(data = parser.read()){
    transformer.write(data);
  }
});

transformer.on('readable', function(){
  while(data = transformer.read()){
    stringifier.write(data);
  }
});

stringifier.on('readable', function(){
  while(data = stringifier.read()){
    process.stdout.write(data);
  }
});
```

### Pipe example

Execute this script with the command `node samples/pipe.js`.

```javascript
var csv = require('csv');

csv.generate({seed: 1, columns: 2, length: 20})
  .pipe(csv.parse())
  .pipe(csv.transform(function(record){
     return record.map(function(value){
       return value.toUpperCase()
     });
  }))
  .pipe(csv.stringify ())
  .pipe(process.stdout);
```

Development
-----------

This parent project doesn't have tests itself but instead delegates the
tests to its child projects.

Read the documentation of the child projects for addionnal information.
=======
This project provides CSV parsing and has been tested and used 
on large input files. It provide every option you could expect from an
advanced CSV parser and stringifier.

[Documentation for the CSV parser is available here](http://www.adaltas.com/projects/node-csv/).

Usage
-----

Installation command is `npm install csv`.

### Quick example

```javascript
// node samples/string.js
var csv = require('csv');
csv()
.from( '"1","2","3","4"\n"a","b","c","d"' )
.to( console.log )
// Output:
// 1,2,3,4
// a,b,c,d
```

### Advanced example
    
```javascript
// node samples/sample.js
var csv = require('csv');
csv()
.from.stream(fs.createReadStream(__dirname+'/sample.in'))
.to.path(__dirname+'/sample.out')
.transform( function(row){
  row.unshift(row.pop());
  return row;
})
.on('record', function(row,index){
  console.log('#'+index+' '+JSON.stringify(row));
})
.on('end', function(count){
  console.log('Number of lines: '+count);
})
.on('error', function(error){
  console.log(error.message);
});
// Output:
// #0 ["2000-01-01","20322051544","1979.0","8.8017226E7","ABC","45"]
// #1 ["2050-11-27","28392898392","1974.0","8.8392926E7","DEF","23"]
// Number of lines: 2
```

Migration
---------

This readme cover the current version 0.2.x of the node 
csv parser. The documentation for the current version 0.1.0 is 
available [here](https://github.com/wdavidw/node-csv-parser/tree/v0.1).

The functions 'from*' and 'to*' are now rewritten as 'from.*' and 'to.*'. The 'data'
event is now the 'record' event. The 'data' now receives a stringified version of 
the 'record' event.

Development
-----------

Tests are executed with mocha. To install it, simple run `npm install`, it will install
mocha and its dependencies in your project "node_modules" directory.

To run the tests:
```bash
npm test
```

The tests run against the CoffeeScript source files.

To generate the JavaScript files:
```bash
make build
```

The test suite is run online with [Travis][travis] against Node.js version 0.6, 0.7, 0.8 and 0.9.

Contributors
------------

*	  David Worms: <https://github.com/wdavidw>
*	  Will White: <https://github.com/willwhite>
*	  Justin Latimer: <https://github.com/justinlatimer>
*	  jonseymour: <https://github.com/jonseymour>
*	  pascalopitz: <https://github.com/pascalopitz>
*	  Josh Pschorr: <https://github.com/jpschorr>
*   Elad Ben-Israel: <https://github.com/eladb>
*   Philippe Plantier: <https://github.com/phipla>
*   Tim Oxley: <https://github.com/timoxley>
*   Damon Oehlman: <https://github.com/DamonOehlman>
*   Alexandru Topliceanu: <https://github.com/topliceanu>
*   Visup: <https://github.com/visup>
*   Edmund von der Burg: <https://github.com/evdb>
*   Douglas Christopher Wilson: <https://github.com/dougwilson>
*   Chris Khoo: <https://github.com/khoomeister>
>>>>>>> 923637243c51b35e8862bfced9d2f31719759a83

Related projects
----------------

*   Pavel Kolesnikov "ya-csv": <http://github.com/koles/ya-csv>
*   Chris Williams "node-csv": <http://github.com/voodootikigod/node-csv>

<<<<<<< HEAD
[travis]: https://travis-ci.org/
[travis-csv-generate]: http://travis-ci.org/wdavidw/node-csv-generate
[travis-csv-parse]: http://travis-ci.org/wdavidw/node-csv-parse
[travis-stream-transform]: http://travis-ci.org/wdavidw/node-stream-transform
[travis-csv-stringify]: http://travis-ci.org/wdavidw/node-csv-stringify
[new_doc]: http://csv.adaltas.com
[old_doc]: http://csv.adaltas.com/legacy/
=======
[travis]: https://travis-ci.org/#!/wdavidw/node-csv-parser

>>>>>>> 923637243c51b35e8862bfced9d2f31719759a83
