
<<<<<<< HEAD
var mongoose = require('mongoose');
=======
var mongoose = require('mongoose')
>>>>>>> 923637243c51b35e8862bfced9d2f31719759a83
var Schema = mongoose.Schema;

console.log('Running mongoose version %s', mongoose.version);

/**
 * Schema
 */

var CharacterSchema = Schema({
<<<<<<< HEAD
  name: {
    type: String,
    required: true
  },
  health: {
    type: Number,
    min: 0,
    max: 100
  }
});
=======
    name: { type: String, required: true }
  , health: { type: Number, min: 0, max: 100 }
})
>>>>>>> 923637243c51b35e8862bfced9d2f31719759a83

/**
 * Methods
 */

<<<<<<< HEAD
CharacterSchema.methods.attack = function() {
  console.log('%s is attacking', this.name);
};
=======
CharacterSchema.methods.attack = function () {
  console.log('%s is attacking', this.name);
}
>>>>>>> 923637243c51b35e8862bfced9d2f31719759a83

/**
 * Character model
 */

var Character = mongoose.model('Character', CharacterSchema);

/**
 * Connect to the database on localhost with
 * the default port (27017)
 */

<<<<<<< HEAD
var dbname = 'mongoose-example-doc-methods-' + ((Math.random() * 10000) | 0);
=======
var dbname = 'mongoose-example-doc-methods-' + ((Math.random()*10000)|0);
>>>>>>> 923637243c51b35e8862bfced9d2f31719759a83
var uri = 'mongodb://localhost/' + dbname;

console.log('connecting to %s', uri);

<<<<<<< HEAD
mongoose.connect(uri, function(err) {
=======
mongoose.connect(uri, function (err) {
>>>>>>> 923637243c51b35e8862bfced9d2f31719759a83
  // if we failed to connect, abort
  if (err) throw err;

  // we connected ok
  example();
<<<<<<< HEAD
});
=======
})
>>>>>>> 923637243c51b35e8862bfced9d2f31719759a83

/**
 * Use case
 */

<<<<<<< HEAD
function example() {
  Character.create({ name: 'Link', health: 100 }, function(err, link) {
=======
function example () {
  Character.create({ name: 'Link', health: 100 }, function (err, link) {
>>>>>>> 923637243c51b35e8862bfced9d2f31719759a83
    if (err) return done(err);
    console.log('found', link);
    link.attack(); // 'Link is attacking'
    done();
<<<<<<< HEAD
  });
=======
  })
>>>>>>> 923637243c51b35e8862bfced9d2f31719759a83
}

/**
 * Clean up
 */

<<<<<<< HEAD
function done(err) {
  if (err) console.error(err);
  mongoose.connection.db.dropDatabase(function() {
    mongoose.disconnect();
  });
=======
function done (err) {
  if (err) console.error(err);
  mongoose.connection.db.dropDatabase(function () {
    mongoose.disconnect();
  })
>>>>>>> 923637243c51b35e8862bfced9d2f31719759a83
}
